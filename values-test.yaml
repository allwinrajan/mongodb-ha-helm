# Test Environment Configuration
namespace:
  name: mongodb-test
  create: false

mongodb:
  image:
    repository: mongo
    tag: "7.0"
    pullPolicy: IfNotPresent

  replicaSet:
    name: rs-test
    replicas: 3

  auth:
    rootUsername: admin
    rootPassword: "Test@MongoDB123"
    # Test keyfile - DO NOT USE IN PRODUCTION
    replicaSetKey: "VGVzdEtleUZvck1vbmdvREJSZXBsaWNhU2V0SW5UZXN0RW52aXJvbm1lbnRPbmx5IQ=="

  storage:
    dbPath: /data/db
    size: 10Gi
    storageClassName: local-path  # Uses local-path for testing
    cacheSizeGB: 1
    oplogSizeMB: 1024

  resources:
    requests:
      memory: "1Gi"
      cpu: "200m"
    limits:
      memory: "2Gi"
      cpu: "500m"

  service:
    port: 27017
    nodePort: null  # No NodePort in test to avoid conflicts

securityContext:
  fsGroup: 999
  runAsUser: 999
